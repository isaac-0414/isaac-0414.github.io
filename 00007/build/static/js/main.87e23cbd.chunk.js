(this.webpackJsonpscribear=this.webpackJsonpscribear||[]).push([[0],{214:function(e,t){},216:function(e,t){},218:function(e,t){},219:function(e,t){},220:function(e,t){},221:function(e,t){},278:function(e,t,n){},279:function(e,t,n){},305:function(e,t,n){},306:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(57),c=n.n(a),i=(n(278),n(279),n(15)),s=n(16),o=n(405),u=n(390),l=n(6),j=n(406),b=n(382),d=n(404),p=n(402),O=n(408),x=n(205),h=n.n(x),f=n(5),g=n.n(f),m=n(62),v=n(410),y=n(397),S=n(407),A=n(392),E=n(24),R=n(1);function w(e){var t=Object(E.b)(),n=r.useState({phrase:""}),a=Object(s.a)(n,2),c=a[0],o=a[1],u=function(){var e=Object(m.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"FLIP_RECORDING_PHRASE",payload:!1}),t({type:"ADD_PHRASE",payload:c.phrase}),o(Object(i.a)(Object(i.a)({},c),{},{phrase:""}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(R.jsx)("div",{children:Object(R.jsxs)(j.a,{component:"div",disablePadding:!0,children:[Object(R.jsx)(y.a,{sx:{pl:4},children:Object(R.jsx)(S.a,{component:"form",sx:{"& > :not(style)":{mr:"1vw",width:"15vw"}},noValidate:!0,autoComplete:"off",children:Object(R.jsx)(A.a,{onChange:function(e){o(Object(i.a)(Object(i.a)({},c),{},{phrase:e.target.value}))},value:c.phrase,label:"Phrases",variant:"outlined"})})}),Object(R.jsx)(v.a,{sx:{pl:4},children:Object(R.jsx)(p.a,{primary:"Enter",onClick:u})})]})})}var C=n(206),I=n.n(C),z=n(83),L=n.n(z),T=n(199),P=n.n(T),N=n(200),_=n.n(N),k=n(399),H=n(228);function G(){var e=Object(E.c)((function(e){return e.DisplayReducer}));return{myTheme:Object(H.a)({palette:{primary:{main:e.secondaryColor},secondary:{main:e.primaryColor}}})}}function U(e){var t=Object(E.b)(),n=Object(E.c)((function(e){return e.ControlReducer})),r=G().myTheme;return Object(R.jsx)("div",{children:Object(R.jsx)(k.a,{theme:r,children:Object(R.jsx)(v.a,{id:"demo-customized-button",variant:"contained",disableElevation:!0,onClick:function(e){n.listening=!n.listening,t({type:"FLIP_RECORDING",payload:n})},sx:{width:50,height:30},children:!1===n.listening?Object(R.jsx)(P.a,{}):Object(R.jsx)(_.a,{})})})})}var B=n(84),M=n.n(B),F=n(383),D=n(378),V=n(380),W=n(403),K=n(381),X=n(396),J=Object(D.a)({slider:{width:"16vw",marginLeft:"2vw"},textBox:{width:"2.5vw",marginLeft:"1vw"}});function Y(e){return"".concat(e)}function Z(e){var t=Object(E.b)(),n=Object(E.c)((function(e){return e.DisplayReducer})),r=J();return Object(R.jsxs)("div",{className:r.slider,children:[Object(R.jsx)(V.a,{gutterBottom:!0}),Object(R.jsxs)(K.a,{container:!0,spacing:2,alignItems:"center",children:[Object(R.jsx)(K.a,{item:!0,xs:!0,children:Object(R.jsx)(W.a,{style:{color:n.secondaryColor},defaultValue:n.textSize,getAriaValueText:Y,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",onChange:function(e,r){!function(e){var r=Object.assign({},n);r.textSize=e,t({type:"SET_TEXT",payload:r})}(r)},step:1,marks:!0,min:1,max:15})}),Object(R.jsx)("div",{className:r.textBox,children:Object(R.jsx)(K.a,{item:!0,children:Object(R.jsx)(X.a,{value:n.textSize,margin:"dense",onChange:function(e){var r=Object.assign({},n);r.textSize=Number(e.target.value),t({type:"SET_TEXT",payload:r})},onBlur:function(){var e=Object.assign({},n);(n.textSize<1||n.textSize>15)&&(e.textSize=1),t({type:"SET_TEXT",payload:e})},inputProps:{step:1,min:1,max:15,type:"number","aria-labelledby":"input-slider"}})})})]})]})}var q=n(229),Q=n(201),$=n.n(Q);function ee(e){var t=Object(E.b)(),n=[[{hex:"#000000",rgb:"#466636",text:0},{hex:"#000000",rgb:"#995262",text:0},{hex:"#000000",rgb:"#527399",text:1},{hex:"#000000",rgb:"#705299",text:1}],[{hex:"#0f0f0f",rgb:"#292929",text:0},{hex:"#5c5c5c",rgb:"#1f1f1f",text:0},{hex:"#c2c2c2",rgb:"#5c5c5c",text:0},{hex:"#ebebeb",rgb:"#858585",text:0}],[{hex:"#23331b",rgb:"#466636",text:1},{hex:"#331b21",rgb:"#995262",text:1},{hex:"#1b2633",rgb:"#527399",text:1},{hex:"#251b33",rgb:"#705299",text:1}],[{hex:"#d7ffc4",rgb:"#689952",text:0},{hex:"#ffc4d1",rgb:"#b35f72",text:0},{hex:"#c4dfff",rgb:"#5f86b3",text:0},{hex:"#ddc4ff",rgb:"#835fb3",text:0}],[{hex:"#f7fff3",rgb:"#8bcc6d",text:0},{hex:"#fff3f6",rgb:"#ff88a3",text:0},{hex:"#f3f9ff",rgb:"#88bfff",text:0},{hex:"#f8f3ff",rgb:"#bb88ff",text:0}]],r=function(e){var n=JSON.parse(e.target.value);0==n.text?n.text="#000000":n.text="#FFFFFF",t({type:"CHANGE_PRIMARY_THEME",payload:n.hex}),t({type:"CHANGE_SECONDARY_THEME",payload:n.rgb}),t({type:"CHANGE_TEXT_COLOR",payload:n.text})};return Object(R.jsx)("div",{className:"circle-picker ",style:{display:"flex",flexWrap:"wrap",marginBottom:"-2vw",marginLeft:".8vw"},children:Object(R.jsx)("table",{children:Array.from(Array(5)).map((function(e,t){return Object(R.jsx)("tr",{children:n[t].map((function(e,t){return Object(R.jsx)("th",{children:Object(R.jsx)("div",{style:{width:"1.5vw",height:"1.5vw",marginRight:".8vw",marginBottom:".8vw",transform:"scale(1)",transition:"transform 100ms ease 0s"},children:Object(R.jsx)("span",{children:Object(R.jsx)("button",{tabIndex:0,value:JSON.stringify(e),onClick:r,style:{background:"transparent",height:"100%",width:"100%",cursor:"pointer",borderStyle:"solid",position:"relative",borderColor:e.rgb,borderRadius:"30%",borderWidth:"thick",outline:"none",boxShadow:e.hex+" 0px 0px 0px 15px inset",transition:"box-shadow 100ms ease 0s"}})})})})}))})}))})})}function te(){var e=r.useState(null),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Boolean(n),i=G().myTheme;return Object(R.jsxs)(r.Fragment,{children:[Object(R.jsx)(S.a,{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:Object(R.jsx)(k.a,{theme:i,children:Object(R.jsx)(v.a,{id:"demo-customized-button",variant:"contained",disableElevation:!0,onClick:function(e){a(e.currentTarget)},sx:{width:50,height:30},children:Object(R.jsx)($.a,{})})})}),Object(R.jsx)(q.a,{anchorEl:n,open:c,onClose:function(){a(null)},PaperProps:{elevation:0,sx:{height:"14vw",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))","& .MuiAvatar-root":{boxSizing:"border-box",mr:1}}},transformOrigin:{horizontal:"left",vertical:"center"},anchorOrigin:{horizontal:"center",vertical:"center"},children:Object(R.jsx)(ee,{})})]})}var ne=n(204),re=n.n(ne),ae=n(9),ce=n(116),ie=n(411),se=["ar-EG","ca-ES","da-DK","da-DK","de-DE","en-AU","en-CA","en-GB","en-IN","en-NZ","en-US","es-ES","es-MX","fi-FI","fr-CA","fr-FR","hi-IN","it-IT","ja-JP","ko-KR","nb-NO","nl-NL","pl-PL","pt-BR","pt-PT","ru-RU","sv-SE","zh-CN","zh-HK","zh-TW"],oe=Object(ae.a)((function(e){return Object(R.jsx)(q.a,Object(i.a)({elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},e))}))((function(e){var t=e.theme;return{"& .MuiPaper-root":{borderRadius:6,marginTop:t.spacing(1),color:"light"===t.palette.mode?"rgb(55, 65, 81)":t.palette.grey[300],"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:10,color:t.palette.text.secondary,marginRight:t.spacing(1.5),innerHeight:40,outerHeight:40},"&:active":{backgroundColor:Object(ce.a)(t.palette.primary.main,t.palette.action.selectedOpacity)}}}}}));function ue(){var e=Object(E.b)(),t=Object(E.c)((function(e){return e.ControlReducer})),n=r.useState(null),a=Object(s.a)(n,2),c=a[0],o=a[1],u=r.useState({language:t.speechLanguage}),l=Object(s.a)(u,2),j=l[0],b=l[1],d=Boolean(c),p=function(t){b(Object(i.a)(Object(i.a)({},j),{},{language:t.target.id})),e({type:"SET_SPEECH_LANGUAGE",payload:t.target.id}),o(null)},O=G().myTheme;return Object(R.jsx)("div",{children:Object(R.jsxs)(k.a,{theme:O,children:[Object(R.jsx)(v.a,{id:"demo-customized-button","aria-controls":"demo-customized-menu","aria-haspopup":"true","aria-expanded":d?"true":void 0,variant:"contained",disableElevation:!0,onClick:function(e){o(e.currentTarget)},sx:{width:"2vw",height:30,padding:0},children:Object(R.jsx)("h2",{className:"tryout",style:{fontSize:"12px"},children:j.language})}),Object(R.jsx)(oe,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:c,open:d,onClose:function(){o(null)},children:se.map((function(e,t){return Object(R.jsx)(ie.a,{id:e,onClick:p,disableRipple:!0,children:e})}))})]})})}var le=["ar","da","de","en","es","fi","fr","hi","it","ja","ko","nb","nl","pl","pt","ru","sv","zh"],je=Object(ae.a)((function(e){return Object(R.jsx)(q.a,Object(i.a)({elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},e))}))((function(e){var t=e.theme;return{"& .MuiPaper-root":{borderRadius:6,marginTop:t.spacing(1),color:"light"===t.palette.mode?"rgb(55, 65, 81)":t.palette.grey[300],"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:10,color:t.palette.text.secondary,marginRight:t.spacing(1.5),innerHeight:40,outerHeight:40},"&:active":{backgroundColor:Object(ce.a)(t.palette.primary.main,t.palette.action.selectedOpacity)}}}}}));function be(){var e=G().myTheme,t=Object(E.b)(),n=Object(E.c)((function(e){return e.ControlReducer})),a=r.useState(null),c=Object(s.a)(a,2),o=c[0],u=c[1],l=r.useState({language:n.textLanguage}),j=Object(s.a)(l,2),b=j[0],d=j[1],p=Boolean(o),O=function(e){d(Object(i.a)(Object(i.a)({},b),{},{language:e.target.id})),t({type:"SET_TEXT_LANGUAGE",payload:e.target.id}),u(null)};return Object(R.jsx)("div",{children:Object(R.jsxs)(k.a,{theme:e,children:[Object(R.jsx)(v.a,{id:"demo-customized-button","aria-controls":"demo-customized-menu","aria-haspopup":"true","aria-expanded":p?"true":void 0,variant:"contained",disableElevation:!0,onClick:function(e){u(e.currentTarget)},sx:{width:"2vw",height:30,padding:0},children:Object(R.jsx)("h2",{className:"tryout",style:{fontSize:"12px"},children:b.language})}),Object(R.jsx)(je,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:o,open:p,onClose:function(){u(null)},children:le.map((function(e,t){return Object(R.jsx)(ie.a,{id:e,onClick:O,disableRipple:!0,children:e})}))})]})})}function de(e){var t=r.useState({display:!0,stt:!0,visualization:!0}),n=Object(s.a)(t,2),a=n[0],c=n[1],o=function(e){return function(t){c(Object(i.a)(Object(i.a)({},a),{},Object(l.a)({},e,!a[e])))}};return Object(R.jsxs)("div",{children:[Object(R.jsx)("h3",{children:"Menu"}),Object(R.jsxs)(j.a,{sx:{width:"20vw",bgcolor:"background.paper"},component:"nav","aria-labelledby":"nested-list-subheader",children:[Object(R.jsxs)(y.a,{children:[Object(R.jsx)(b.a,{children:Object(R.jsx)(re.a,{})}),Object(R.jsx)(p.a,{primary:"Speech To Text"}),Object(R.jsx)(d.a,{onClick:o("stt"),children:a.stt?Object(R.jsx)(L.a,{}):Object(R.jsx)(M.a,{})})]}),Object(R.jsx)(O.a,{in:a.stt,timeout:"auto",unmountOnExit:!0,children:Object(R.jsxs)(j.a,{component:"div",disablePadding:!0,children:[Object(R.jsxs)(y.a,{sx:{pl:4,mb:1},children:[Object(R.jsx)(p.a,{primary:"Listening"}),Object(R.jsx)(U,{isRecording:e.isRecording})]}),Object(R.jsxs)(y.a,{sx:{pl:4,mb:1},children:[Object(R.jsx)(p.a,{primary:"Speech Language"}),Object(R.jsx)(ue,{})]}),Object(R.jsxs)(y.a,{sx:{pl:4,mb:2},children:[Object(R.jsx)(p.a,{primary:"Text Language"}),Object(R.jsx)(be,{})]}),Object(R.jsx)(y.a,{sx:{pl:4,mb:2},children:Object(R.jsx)(p.a,{primary:"Add Phrase"})}),Object(R.jsx)(w,{})]})}),Object(R.jsx)(F.a,{}),Object(R.jsxs)(y.a,{children:[Object(R.jsx)(b.a,{children:Object(R.jsx)(h.a,{})}),Object(R.jsx)(p.a,{primary:"Display"}),Object(R.jsx)(d.a,{onClick:o("display"),children:a.display?Object(R.jsx)(L.a,{}):Object(R.jsx)(M.a,{})})]}),Object(R.jsx)(O.a,{in:a.display,timeout:"auto",unmountOnExit:!0,children:Object(R.jsxs)(j.a,{component:"div",disablePadding:!0,children:[Object(R.jsx)(y.a,{sx:{pl:4},children:Object(R.jsx)(p.a,{primary:"Textsize"})}),Object(R.jsx)(Z,{}),Object(R.jsxs)(y.a,{sx:{pl:4,pt:5},children:[Object(R.jsx)(p.a,{primary:"Theme"}),Object(R.jsx)(te,{})]})]})}),Object(R.jsx)(F.a,{}),Object(R.jsxs)(y.a,{children:[Object(R.jsx)(b.a,{children:Object(R.jsx)(I.a,{})}),Object(R.jsx)(p.a,{primary:"Audio Visualization"}),Object(R.jsx)(d.a,{onClick:o("visualization"),children:a.visualization?Object(R.jsx)(L.a,{}):Object(R.jsx)(M.a,{})})]}),Object(R.jsx)(O.a,{in:a.visualization,timeout:"auto",unmountOnExit:!0,children:Object(R.jsxs)(j.a,{component:"div",disablePadding:!0,children:[Object(R.jsxs)(y.a,{sx:{pl:4},children:[Object(R.jsx)(p.a,{primary:"Visualizing"}),Object(R.jsx)(U,{isRecording:e.isRecording})]}),Object(R.jsx)(y.a,{sx:{pl:4},children:Object(R.jsx)(p.a,{primary:"Design"})})]})}),Object(R.jsx)(F.a,{})]})]})}var pe=n(401),Oe=n(208),xe=n.n(Oe),he=n(207),fe=n.n(he),ge=Object(H.a)({palette:{primary:{main:"#ffffff"}}});function me(e){var t=r.useState({isFullScreen:!1}),n=Object(s.a)(t,2),a=n[0],c=n[1];return Object(R.jsx)("div",{style:{position:"relative"},children:Object(R.jsx)(k.a,{theme:ge,children:Object(R.jsx)(d.a,{onClick:function(){var e=document.documentElement;a.isFullScreen?document.exitFullscreen&&document.exitFullscreen():e.requestFullscreen&&e.requestFullscreen(),c(Object(i.a)(Object(i.a)({},a),{},{isFullScreen:!a.isFullScreen}))},color:"primary",children:a.isFullScreen?Object(R.jsx)(fe.a,{fontSize:"large"}):Object(R.jsx)(xe.a,{fontSize:"large"})})})})}var ve=n(398),ye=n(209),Se=n.n(ye),Ae=n(210),Ee=n.n(Ae);function Re(e){var t=Object(E.b)();return Object(R.jsx)("div",{children:Object(R.jsx)(ve.a,{className:"c2",color:"inherit",onClick:function(){return t({type:"HIDE_MENU"})},children:e.menuVisible?Object(R.jsx)(Se.a,{}):Object(R.jsx)(Ee.a,{})})})}var we,Ce,Ie=n(227),ze=n.n(Ie),Le=n(226),Te=n.n(Le),Pe=n(391),Ne=n(389),_e=n(225),ke=n.n(_e),He=n(110),Ge=n.n(He),Ue=n(224),Be=n.n(Ue),Me=n(222),Fe=n.n(Me),De=n(223),Ve=n.n(De),We=n(33),Ke=n(400),Xe=n(394),Je=n(395),Ye=n(388);function Ze(e){var t=Object(E.b)(),n=function(){var e="hi",t=Object(r.useCallback)(function(){var e=Object(m.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){try{var a=Ke.a.fromSubscription(n.azureKey,n.azureRegion);a.speechRecognitionLanguage=t.speechLanguage,a.addTargetLanguage(t.textLanguage);var c=Xe.a.fromDefaultMicrophoneInput(),i=new Je.a(a,c);i.canceled=function(){e(!1)},i.sessionStarted=function(){e(!0)},i.recognizeOnceAsync()}catch(s){e(!1)}})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[e]);return Object(r.useMemo)((function(){return{pog:e,test:t}}),[e])}(),a=(n.pog,n.test),c=r.useState({openAzure:!1,azureStatus:Object(E.c)((function(e){return e.AzureReducer})),controlStatus:Object(E.c)((function(e){return e.ControlReducer})),apiStatus:e.apiStatus}),o=Object(s.a)(c,2),u=o[0],l=o[1],b=function(e){var n=Object.assign({},u.azureStatus);n[e.target.id]=e.target.value,l(Object(i.a)(Object(i.a)({},u),{},{azureStatus:n})),t({type:"CHANGE_AZURE_LOGIN",payload:n})},d=function(){var e=Object(m.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FLIP_RECORDING",payload:u.controlStatus}),e.next=3,a(u.controlStatus,u.azureStatus).then((function(e){var n=Object.assign({},u.apiStatus);!0===e?(n.azureStatus=0,localStorage.setItem("azureStatus",JSON.stringify(u.azureStatus)),Ge()({title:"Success!",text:"Switching to Microsoft Azure",icon:"success",timer:1500,buttons:{no:{text:"Cancel",value:"no"}}}).then((function(e){switch(e){case"no":l(Object(i.a)(Object(i.a)({},u),{},{openAzure:!1}));break;default:n.currentAPI=1,t({type:"CHANGE_API_STATUS",payload:n})}})),l(Object(i.a)(Object(i.a)({},u),{},{apiStatus:n}))):(n.azureStatus=2,Ge()({title:"Warning!",text:"Wrong key or region!",icon:"warning"}),l(Object(i.a)(Object(i.a)({},u),{},{apiStatus:n}))),t({type:"CHANGE_API_STATUS",payload:n})}));case 3:e.sent,t({type:"FLIP_RECORDING",payload:u.controlStatus});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(R.jsx)("div",{children:Object(R.jsxs)(j.a,{component:"div",disablePadding:!0,children:[Object(R.jsx)(y.a,{sx:{pl:4},children:Object(R.jsx)(S.a,{component:"form",sx:{"& > :not(style)":{pr:"1vw",width:"15vw"}},noValidate:!0,autoComplete:"off",children:Object(R.jsx)(A.a,{onChange:b,value:u.azureStatus.azureKey,id:"azureKey",label:"Key",variant:"outlined"})})}),Object(R.jsx)(y.a,{sx:{pl:4},children:Object(R.jsx)(S.a,{component:"form",sx:{"& > :not(style)":{mr:"1vw",width:"15vw"}},noValidate:!0,autoComplete:"off",children:Object(R.jsx)(A.a,{onChange:b,value:u.azureStatus.azureRegion,id:"azureRegion",label:"Region",variant:"outlined"})})}),Object(R.jsx)(v.a,{sx:{pl:4},children:Object(R.jsx)(p.a,{primary:"Enter",onClick:d})})]})})}!function(e){e[e.AVAILABLE=0]="AVAILABLE",e[e.NULL=1]="NULL",e[e.UNAVAILABLE=2]="UNAVAILABLE",e[e.INPROGRESS=3]="INPROGRESS",e[e.ERROR=4]="ERROR"}(we||(we={})),function(e){e[e.AVAILABLE=0]="AVAILABLE",e[e.NULL=1]="NULL",e[e.UNAVAILABLE=2]="UNAVAILABLE",e[e.INPROGRESS=3]="INPROGRESS",e[e.ERROR=4]="ERROR"}(Ce||(Ce={}));var qe=Object(H.a)({palette:{primary:{main:"#ffffff"},success:{main:"#4caf50"},warning:{main:"#f44336"},error:{main:"#C8C224"}}}),Qe=function(e){var t=qe;switch(e.currentAPI){case Ce.NULL:return Object(R.jsx)(k.a,{theme:t,children:Object(R.jsx)(Fe.a,{})});case Ce.AVAILABLE:return Object(R.jsx)(k.a,{theme:t,children:Object(R.jsx)(Ve.a,{color:"success"})});case Ce.UNAVAILABLE:return Object(R.jsx)(k.a,{theme:t,children:Object(R.jsx)(Be.a,{color:"warning"})})}return Object(R.jsx)(k.a,{theme:t,children:Object(R.jsx)(ke.a,{color:"error"})})};function $e(e){var t=Object(E.b)(),n=qe,a=r.useState({azureStatus:!1,streamTextStatus:!1,webspeechStatus:!1,apiStatus:Object(E.c)((function(e){return e.APIStatusReducer}))}),c=Object(s.a)(a,2),o=c[0],u=c[1],x=function(e,n,r){return function(a){if(o.apiStatus.currentAPI!==n)if(r||0!==o.apiStatus[e])u(Object(i.a)(Object(i.a)({},o),{},Object(l.a)({},e,!o[e])));else{var c="Webspeech";1==n?c="Microsoft Azure":2==n&&(c="Streamtext"),Ge()({title:"Success!",text:"Switching to "+c,icon:"success",timer:2500});var s=Object.assign({},o.apiStatus);s.currentAPI=n,u(Object(i.a)(Object(i.a)({},o),{},{apiStatus:s})),t({type:"CHANGE_API_STATUS",payload:s})}else r&&u(Object(i.a)(Object(i.a)({},o),{},Object(l.a)({},e,!o[e])))}};return Object(R.jsxs)("div",{children:[Object(R.jsxs)(Ne.a,{onClick:x("webspeechStatus",0,!1),children:[Object(R.jsx)(k.a,{theme:n,children:Object(R.jsx)(b.a,{children:Object(R.jsx)(Qe,{currentAPI:o.apiStatus.webspeechStatus})})}),Object(R.jsx)(p.a,{primary:"Webspeech"})]}),Object(R.jsxs)(Ne.a,{onClick:x("azureStatus",1,!1),children:[Object(R.jsx)(b.a,{children:Object(R.jsx)(Qe,{currentAPI:o.apiStatus.azureStatus})}),Object(R.jsx)(p.a,{primary:"Microsoft Azure"}),Object(R.jsx)(d.a,{onClick:x("azureStatus",1,!0),children:o.streamTextStatus?Object(R.jsx)(L.a,{}):Object(R.jsx)(M.a,{})})]}),Object(R.jsx)(O.a,{in:o.azureStatus,timeout:"auto",unmountOnExit:!0,children:Object(R.jsx)(Ze,{apiStatus:o.apiStatus})}),Object(R.jsxs)(Ne.a,{onClick:x("streamTextStatus",2,!1),children:[Object(R.jsx)(b.a,{children:Object(R.jsx)(Qe,{currentAPI:o.apiStatus.streamtextStatus})}),Object(R.jsx)(p.a,{primary:"StreamText"}),Object(R.jsx)(d.a,{children:o.streamTextStatus?Object(R.jsx)(L.a,{}):Object(R.jsx)(M.a,{})})]}),Object(R.jsx)(O.a,{in:o.streamTextStatus,timeout:"auto",unmountOnExit:!0,children:Object(R.jsxs)(j.a,{component:"div",disablePadding:!0,children:[Object(R.jsx)(y.a,{sx:{pl:4},children:Object(R.jsx)(S.a,{component:"form",sx:{"& > :not(style)":{mr:"1vw",width:"15vw"}},noValidate:!0,autoComplete:"off",children:Object(R.jsx)(A.a,{id:"outlined-basic",label:"Key",variant:"outlined"})})}),Object(R.jsx)(v.a,{sx:{pl:4},children:Object(R.jsx)(p.a,{primary:"Enter"})})]})})]})}function et(){var e=r.useState(null),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Boolean(n);return Object(R.jsxs)(r.Fragment,{children:[Object(R.jsx)(S.a,{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:Object(R.jsx)(Pe.a,{title:"API choice",children:Object(R.jsx)(d.a,{onClick:function(e){a(e.currentTarget)},size:"small",sx:{ml:2},children:Object(R.jsx)(Te.a,{sx:{width:32,height:32,color:"white"},children:"M"})})})}),Object(R.jsx)(q.a,{anchorEl:n,open:c,onClose:function(){a(null)},PaperProps:{elevation:0,sx:{width:"20vw",overflow:"invisible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{boxSizing:"border-box",height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:"48%",width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"center",vertical:"top"},anchorOrigin:{horizontal:"center",vertical:"bottom"},children:Object(R.jsx)($e,{})})]})}var tt=Object(H.a)({palette:{primary:{main:"#ffffff"}}});function nt(e){var t=r.useState({isOpen:!1}),n=Object(s.a)(t,2),a=n[0],c=n[1],l=Object(E.c)((function(e){return e.APIStatusReducer})),j=Object(E.c)((function(e){return e.DisplayReducer})),b="Webspeech";b=1==l.currentAPI?"Azure":2==l.currentAPI?"StreamText":"Webspeech";var p=tt,O=function(e){return function(t){c(Object(i.a)(Object(i.a)({},a),{},{isOpen:e}))}};return Object(R.jsx)(o.a,{position:"fixed",id:"topbar-wrapper",onMouseOut:function(){var e=document.getElementById("topbar-wrapper");j.menuVisible?e&&(e.style.opacity="1"):e&&(e.style.opacity="0")},onMouseOver:function(){var e=document.getElementById("topbar-wrapper");e&&(e.style.opacity="1")},style:{transition:"0.6s",height:"10vh"},children:Object(R.jsxs)(u.a,{style:{backgroundColor:j.secondaryColor},children:[Object(R.jsxs)("div",{className:"d-table-cell tar",children:[Object(R.jsx)(d.a,{onClick:O(!0),children:Object(R.jsx)(k.a,{theme:p,children:Object(R.jsx)(ze.a,{color:"primary"})})}),Object(R.jsx)(pe.a,{open:a.isOpen,onClose:O(!1),children:Object(R.jsx)(de,{isRecording:e.isRecording})})]}),Object(R.jsx)("div",{className:"border d-table w-100",children:Object(R.jsx)("h2",{className:"d-table-cell tar2",children:"ScribeAR"})}),Object(R.jsx)("div",{style:{position:"relative",left:"62vw"},children:Object(R.jsx)(et,{})}),Object(R.jsxs)("h3",{style:{position:"relative",left:"62.5vw"},children:[" ",b," "]}),Object(R.jsx)("div",{style:{position:"absolute",left:"93vw",paddingLeft:"2vw"},children:Object(R.jsx)(me,{})}),Object(R.jsx)("div",{style:{position:"absolute",left:"90.5vw",paddingLeft:"2vw"},children:Object(R.jsx)(Re,{menuVisible:j.menuVisible})})]})})}var rt=function(){if(!window||!window.webkitSpeechRecognition)throw new Error("Your browser does not support web speech recognition");var e=new window.webkitSpeechRecognition;return e.continuous=!0,e.interimResults=!0,e},at=n(156),ct=n.n(at),it="testing",st=0,ot=function(e){var t=Object(E.b)(),n=Object(E.c)((function(e){return e.ControlReducer})),a=Object(E.c)((function(e){return e.DisplayReducer})),c=Object(E.c)((function(e){return e.AzureReducer})),i=Object(E.c)((function(e){return e.APIStatusReducer}));r.useEffect((function(){console.log("USEEFFECT"),1==n.listening&&(0==i.currentAPI?(st=0,v()):1==i.currentAPI&&(st=1,y()))}),[n.listening,i.currentAPI]),document.addEventListener("DOMContentLoaded",(function(){1==i.currentAPI&&ct.a.fire({title:"It appears you have a valid Microsoft Azure key, would you like to use Microsoft Azure?",icon:"info",allowOutsideClick:!1,showDenyButton:!0,confirmButtonText:"Yes!"}).then((function(e){if(e.isConfirmed)ct.a.fire("Switching to Azure","","success"),st=1,y();else{var n=Object.assign({},i);n.currentAPI=0,t({type:"CHANGE_API_STATUS",payload:n}),v()}}))}));var o=a.textSize+"vh",u=function(){var e="",t=r.useState([]),n=Object(s.a)(t,2),a=n[0],c=n[1],i=Object(r.useCallback)(function(){var t=Object(m.a)(g.a.mark((function t(n,r,i,s){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,o){try{var u=(new Date).getTime(),l=r.current.textLanguage,j=Ke.a.fromSubscription(i.current.azureKey,i.current.azureRegion);j.speechRecognitionLanguage=r.current.speechLanguage,j.addTargetLanguage(r.current.textLanguage),j.setProfanity(2);for(var b=Xe.a.fromDefaultMicrophoneInput(),d=new Je.a(j,b),p=Ye.a.fromRecognizer(d),O=0;O<i.current.phrases.length;O++)console.log(i.current.phrases[O]),p.addPhrase(i.current.phrases[O]);var x="";d.startContinuousRecognitionAsync(),d.recognizing=function(i,o){0==r.current.listening||1!=s.current.currentAPI?(d.stopContinuousRecognitionAsync(),t(n)):(e=x+o.result.translations.get(l),c([].concat(Object(We.a)(a),[e])),n=e)},d.recognized=function(i,o){0==r.current.listening||1!=s.current.currentAPI?(d.stopContinuousRecognitionAsync(),t(n)):(x+=o.result.translations.get(l)+" ",e=x,c([].concat(Object(We.a)(a),[e])),n=e)},d.sessionStopped=function(e,a){var c=(new Date).getTime()-u;0==r.current.listening||1!=s.current.currentAPI?t(n):c>1e3&&d.startContinuousRecognitionAsync()}}catch(h){t(!1)}})));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),[c]);return Object(r.useMemo)((function(){return{azureTranscripts:a,azureListen:i}}),[a])}(),l=u.azureTranscripts,j=u.azureListen,b=function(){var e="",t="",n=r.useState([]),a=Object(s.a)(n,2),c=a[0],i=a[1],o=Object(r.useCallback)(function(){var n=Object(m.a)(g.a.mark((function n(r,a,s){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,o){var u=(new Date).getTime(),l=rt();l.onresult=function(o){if(0==a.current.listening||0!=s.current.currentAPI)l.stop(),n(r);else{var u=Array.from(o.results).map((function(e){return e[0]})).map((function(e){return e.transcript})).join("");u&&(e=t+u),i([].concat(Object(We.a)(c),[e])),r=e}},l.onend=function(){var c=(new Date).getTime()-u;a.current.listening&&0===s.current.currentAPI?(t=e+" ",c>1e3&&l.start()):n(r)},l.start()})));case 1:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}(),[i]);return Object(r.useMemo)((function(){return{transcripts:c,listen:o}}),[c])}(),d=b.transcripts,p=b.listen,O=r.useRef(n),x=r.useRef(c),h=r.useRef(i);O.current=n,x.current=c,h.current=i;var f,v=function(){var e=Object(m.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(it,O,h).then((function(e){O.current.listening&&0==h.current.currentAPI&&(it+=e,v())}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(m.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(it,O,x,h).then((function(e){O.current.listening&&1==h.current.currentAPI&&(it+=e,y())}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();f=0==st?d:l;var S=document.getElementById("captionsSpace");if(null!=S){S.scrollHeight,S.clientHeight,S.scrollTop;S.scrollTop=S.scrollHeight-S.clientHeight}return Object(R.jsx)("div",{children:Object(R.jsx)("ul",{children:f.map((function(e){return Object(R.jsx)("h3",{id:"captionsSpace",style:{position:"fixed",width:"90%",textAlign:"left",left:"0",fontSize:o,paddingLeft:"5%",paddingRight:"60%",overflowY:"scroll",height:"40%",color:a.textColor},children:e})}))})})};function ut(e){var t=Object(E.c)((function(e){return e}));console.log(t);Object(E.b)();return Object(R.jsxs)("div",{children:[Object(R.jsx)(nt,{isRecording:t}),Object(R.jsx)(ot,{})]})}n(305);var lt,jt=function(){var e=Object(E.c)((function(e){return e.DisplayReducer}));return console.log(e),Object(R.jsx)("div",{className:"App",children:Object(R.jsx)("header",{className:"App-header",style:{color:"#ffffff",background:e.primaryColor},children:Object(R.jsx)(ut,{})})})};!function(e){e[e.BLACK=0]="BLACK",e[e.WHITE=1]="WHITE"}(lt||(lt={}));var bt,dt,pt={textSize:6,primaryColor:"#0f0f0f",secondaryColor:"#292929",textColor:"#FFFFFF",menuVisible:!0},Ot=function(e,t){localStorage.setItem(e,JSON.stringify(t))},xt=function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):pt};!function(e){e[e.WEBSPEECH=0]="WEBSPEECH",e[e.AZURE=1]="AZURE",e[e.STREAMTEXT=2]="STREAMTEXT"}(bt||(bt={})),function(e){e[e.AVAILABLE=0]="AVAILABLE",e[e.NULL=1]="NULL",e[e.UNAVAILABLE=2]="UNAVAILABLE",e[e.INPROGRESS=3]="INPROGRESS",e[e.ERROR=4]="ERROR"}(dt||(dt={}));var ht={currentAPI:bt.WEBSPEECH,webspeechStatus:dt.AVAILABLE,azureStatus:dt.NULL,streamtextStatus:dt.NULL},ft={azureKey:"Enter",azureRegion:"Enter",phrases:["Azure"]},gt={key:"Enter"},mt=function(e,t){localStorage.setItem(e,JSON.stringify(t))},vt=function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):"apiStatus"==e?ht:"azureStatus"==e?ft:void 0},yt={listening:!0,speechLanguage:"en-US",textLanguage:"en"};var St=n(157),At=Object(St.a)({DisplayReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt("displayReducer"),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PRIMARY_THEME":return Object(i.a)(Object(i.a)({},e),{},{primaryColor:t.payload});case"CHANGE_SECONDARY_THEME":return Object(i.a)(Object(i.a)({},e),{},{secondaryColor:t.payload});case"CHANGE_TEXT_COLOR":return Object(i.a)(Object(i.a)({},e),{},{textColor:t.payload});case"SET_TEXT":return Ot("displayReducer",t.payload),Object(i.a)(Object(i.a)({},e),t.payload);case"HIDE_MENU":return console.log("MENUHIDE"),Object(i.a)(Object(i.a)({},e),{},{menuVisible:!e.menuVisible});default:return e}},APIStatusReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt("apiStatus"),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_CURRENT_API":return Object(i.a)(Object(i.a)({},e),t.payload);case"CHANGE_API_STATUS":return 0!=t.payload.azureStatus&&t.payload.currentAPI===e.currentAPI||mt("apiStatus",t.payload),Object(i.a)(Object(i.a)({},e),t.payload);default:return e}},AzureReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt("azureStatus"),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_AZURE_LOGIN":case"CHANGE_AZURE_STATUS":return Object(i.a)(Object(i.a)({},e),t.payload);case"ADD_PHRASE":return e.phrases.push(t.payload),Object(i.a)({},e);default:return e}},StreamtextReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FLIP_RECORDING":return!e;default:return e}},ControlReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FLIP_RECORDING":return Object(i.a)(Object(i.a)({},e),t.payload);case"FLIP_RECORDING_PHRASE":return Object(i.a)(Object(i.a)({},e),{},{listening:t.payload});case"SET_SPEECH_LANGUAGE":case"SET_TEXT_LANGUAGE":return Object(i.a)(Object(i.a)({},e),{},{speechLanguage:t.payload});default:return e}}}),Et=Object(St.b)(At),Rt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,414)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};c.a.render(Object(R.jsx)(E.a,{store:Et,children:Object(R.jsx)(jt,{})}),document.getElementById("root")),Rt()},87:function(e,t){},99:function(e,t){}},[[306,1,2]]]);
//# sourceMappingURL=main.87e23cbd.chunk.js.map